function [f2,gradf2] = second_function(n)

fk = cell(n,1);
fk{1}= @(x) 4*(x(1)-x(1)^2);
for k = 2:1:n-1
    fk{k} = @(x) 8*x(k)*(x(k)^2- x(k-1)) -2*(1-x(k)) + 4*(x(k)-x(k+1)^2);
end
fk{n} = @(x) 8*x(n)*(x(n)^2 - x(n-1)) - 2*(1-x(n));

f2 = @(x) 0.5*sum(cell2mat(cellfun(@(fk) fk(x), fk, 'UniformOutput', false)).^2);

grad_comp = cell(n,1);

grad_comp{1} = @(x) sum([4, -8*x(2)]);
grad_comp{2} = @(x) sum([-8*x(2); 24*x(2)^2 -8*x(1) + 6; -8*x(2)]);



end

